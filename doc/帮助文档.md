# 数据库选型

### SpringBoot原生支持3个嵌入式数据库
1. H2database：数据在一个db文件中，会有一个日志文件。
2. hsqldb：最后数据存储在一个script脚本文件中，有几个临时文件，总计2-6个。
3. derby：创建了一个文件夹，放了一堆数据文件（几十个）；10.15.2.0版本还改了包名，驱动都找不到，10.14.2.0还能用。

### 选H2database理由
1. 从文件数据量：优先h2，次选hsqldb；排除derby。

### 注意
1. H2数据库必须使用与创建时一致版本的驱动去连接，否则会损坏数据。
2. 使用第三方工具去连接前，一定要检查第三方工具使用的H2版本，是否与程序使用的一致。
___

# Bean拷贝框架选型
选择Spring的BeanUtils，或对其进行二次封装。
### 理由
1. [Bean拷贝常用框架使用姿势与性能对比](https://www.bilibili.com/read/cv10986822)
2. 尽量减少非必要依赖。
___

# orm框架选型
### 对比
1. Spring-Jdbc：手写sql，稍微麻烦一点，胜在依赖少，灵活。
2. Spring-Data-Jdbc：Spring-Jdbc的增强；不熟悉，功能不太够。
3. Spring-Data-Jpa：v1.1.0（含）前使用，太重了，批处理复杂，Hibernate对H2支持有BUG。
4. jooq：免费版对数据库类型和版本支持有限。
5. ebean：查阅相关资料，好像很棒的样子。
6. MyBatis：用的较多的，资料很多的。
7. MyBatis-plus：国产的MyBatis增强，看介绍很好；对H2支持有BUG。
### 其他因素
1. SQL标准对标识符大小写不敏感，那么默认处理就取决于数据库产品了，可能大部分是转换为大写。H2转换为大写，MySQL转换为小写。
2. SQL标准规定分隔符（可能）是双引号，反正肯定不是反单引号（MySQL可能出于历史原因）。H2要手写SQL的话，标识符都得加上双引号，可能连接上有配置可以改。
### 结论
1. 肯定弃用Jpa，重且不灵活。
2. 先用Spring-Jdbc进行改造，毕竟Spring-Data-Jdbc、MyBatis-plus对其是兼容的。
3. 后面再选择哪个更完善的框架。
___

# 使用webjars的理由
1. 离线可用；这个软件设计初衷就是可以无网络使用，如果前端资源依赖网络那就死翘翘了。
2. 用后端资源管理工具(maven)来统一管理前端依赖的版本。
___

# 开发技巧
1. 用命令行参数`--spring.profiles.active=dev`激活dev配置。
___

# Github发布格式
1. tag和发布名称，使用小写字母v加版本号；GitHub的建议，以及SpringBoot的发布格式，都是这样做的。
2. 新发布版本包含什么内容就写对应部分内容，不包含不写。
```markdown
### 新增
1. xxx
2. xxx
### 变更
暂无
### 修复
暂无
### 优化
1. xx
### 问题
暂无
```
___

# 图形化的必要性

### 设想
1. 管理员的操作界面，举例功能：配置秘钥，启动停止服务等。

### 不需要图形化的理由
1. 只有本机使用才有图形化的必要；如果是部署在服务器提供服务，大概率是没有桌面环境的。
2. 增加jar包大小。
3. 秘钥第一次配置后，以后是不会轻易更换的。
4. 启动停止服务，不是频繁的操作。

### 需要图形化的理由
1. 方便操作。
2. 玩一下javafx。

### 结论
没有必要把管理员操作图形化。